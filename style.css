/* Custom scrollbar for a cleaner look */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
::-webkit-scrollbar-thumb {
    background-color: rgba(156, 163, 175, 0.5);
    border-radius: 20px;
    border: 3px solid transparent;
}

/* --- CSS Variable for Sidebar Width --- */
:root {
    --sidebar-width: 260px;
}

.theme-blue {
    --color-primary: 217 91% 60%;
    --color-primary-hover: 217 91% 55%;
    --color-primary-foreground: 210 40% 98%;
}
.theme-green {
    --color-primary: 142 76% 36%;
    --color-primary-hover: 142 76% 31%;
    --color-primary-foreground: 144 60% 98%;
}
.theme-purple {
    --color-primary: 262 84% 59%;
    --color-primary-hover: 262 84% 54%;
    --color-primary-foreground: 264 70% 98%;
}
.theme-orange {
    --color-primary: 25 95% 53%;
    --color-primary-hover: 25 95% 48%;
    --color-primary-foreground: 24 80% 98%;
}
body {
    font-family: 'Inter', sans-serif;
}

/* --- Sidebar, Main Content, and Toggle Button Layout --- */
#sidebar {
    width: var(--sidebar-width);
    /* FIX: Added justify-content to align items to the top */
    justify-content: flex-start;
}

#main-content {
    margin-left: var(--sidebar-width);
}

#sidebar-toggle {
    /* Position is now based on the CSS variable for smooth animation */
    left: calc(var(--sidebar-width) - 16px); /* 16px is half of the button's width (w-8) */
}


/* --- ACCOUNT PROFILE: PLEDGE CARD STYLES --- */
.pledge-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1rem;
}
.pledge-card-info {
    flex-grow: 1;
}
.pledge-card-actions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-shrink: 0;
}
.pledge-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 500;
    background-color: #f3f4f6; /* gray-100 */
    color: #4b5563; /* gray-600 */
    transition: background-color 0.2s;
}
.dark .pledge-tag {
    background-color: #374151; /* dark:bg-gray-700 */
    color: #d1d5db; /* dark:text-gray-300 */
}
.pledge-tag:hover {
    background-color: #e5e7eb; /* gray-200 */
}
.dark .pledge-tag:hover {
    background-color: #4b5563; /* dark:bg-gray-600 */
}
.pledge-tag i {
    font-size: 0.875rem;
}

/* --- ACCOUNT PROFILE: AUDIT LOG TIMELINE STYLES --- */
.audit-log-container {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-in-out;
}
.audit-log-container.open {
    max-height: 500px; /* Adjust as needed */
}
.audit-chevron {
    transition: transform 0.3s ease-in-out;
}
.audit-chevron.rotated {
    transform: rotate(180deg);
}
.timeline {
    position: relative;
}
/* The vertical line of the timeline */
.timeline::before {
    content: '';
    position: absolute;
    left: 20px; /* Position line in the middle of the padding */
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #e5e7eb; /* gray-200 */
}
.dark .timeline::before {
    background-color: #374151; /* dark:gray-700 */
}
/* Each item in the timeline */
.timeline-item {
    position: relative; /* This is crucial for positioning the icon */
    margin-bottom: 1.5rem;
    padding-left: 60px; /* Creates space for the icon and the content */
}
.timeline-item:last-child {
    margin-bottom: 0;
}
/* The circular icon on the timeline */
.timeline-icon {
    position: absolute;
    left: 20px; /* Align with the timeline bar */
    top: 0;
    transform: translateX(-50%); /* Perfectly center the icon on the line */
    width: 40px;
    height: 40px;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    /* "Punch out" the icon from the line */
    border: 4px solid #fff; 
}
.dark .timeline-icon {
    border-color: #1f2937; /* dark:bg-gray-800 */
}
/* The text content for each timeline item */
.timeline-content {
    /* The padding was moved to the parent .timeline-item */
}


/* --- REPORTING PAGE STYLES --- */
.filter-section {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-in-out;
}
.filter-section.open {
    max-height: 500px; /* Adjust as needed */
}
.filter-toggle-button {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 600;
    color: #d1d5db; /* dark:text-gray-300 */
}
.filter-toggle-button i {
    transition: transform 0.3s ease-in-out;
}
.filter-input {
    width: 100%;
    background-color: #1f2937; /* dark:bg-gray-900 */
    border: 1px solid #4b5563; /* dark:border-gray-600 */
    border-radius: 0.375rem;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    color: #d1d5db; /* dark:text-gray-300 */
}
.filter-multiselect-button {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border: 1px solid #4b5563; /* dark:border-gray-600 */
    border-radius: 0.375rem;
    text-align: left;
    background-color: #1f2937; /* dark:bg-gray-900 */
    font-size: 0.875rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: all 0.2s ease-in-out;
}
.filter-multiselect-button.active {
    background-color: hsl(var(--color-primary) / 0.1);
    border-color: hsl(var(--color-primary));
    color: hsl(var(--color-primary));
    font-weight: 600;
}


/* Modal Styles */
.modal-backdrop {
    display: none; /* Hidden by default */
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 50;
    align-items: center;
    justify-content: center;
    padding: 1rem;
}
.modal-content {
    background-color: #1f2937; /* dark:bg-gray-800 */
    border-radius: 0.5rem;
    box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
    width: 100%;
    max-width: 28rem; /* max-w-md */
    border: 1px solid #4b5563; /* dark:border-gray-700 */
}
.modal-header {
    font-size: 1.125rem;
    font-weight: 600;
    padding: 1rem;
    border-bottom: 1px solid #4b5563; /* dark:border-gray-700 */
}
.modal-body {
    padding: 1rem;
    max-height: 60vh;
    overflow-y: auto;
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.75rem;
}
.checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
}
.checkbox {
    height: 1rem;
    width: 1rem;
    border-radius: 0.25rem;
    border-color: #4b5563; /* dark:border-gray-600 */
    background-color: #374151; /* dark:bg-gray-700 */
    color: hsl(var(--color-primary));
}
.modal-button-primary {
    padding: 0.5rem 1rem;
    background-color: hsl(var(--color-primary));
    color: hsl(var(--color-primary-foreground));
    border-radius: 0.375rem;
    font-weight: 600;
    font-size: 0.875rem;
    transition: background-color 0.2s;
}
.modal-button-primary:hover {
    background-color: hsl(var(--color-primary-hover));
}
.modal-button-secondary {
    padding: 0.5rem 1rem;
    background-color: #374151; /* dark:bg-gray-700 */
    color: #d1d5db; /* dark:text-gray-300 */
    border-radius: 0.375rem;
    font-weight: 600;
    font-size: 0.875rem;
    border: 1px solid #4b5563; /* dark:border-gray-600 */
    transition: background-color 0.2s;
}
.modal-button-secondary:hover {
    background-color: #4b5563; /* dark:bg-gray-600 */
}
/* --- END REPORTING PAGE STYLES --- */


/* --- STAT CARD STYLES --- */
.stat-card {
    background-color: white;
    padding: 1.5rem;
    border-radius: 0.75rem;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    border: 1px solid #e5e7eb; /* gray-200 */
    display: flex;
    align-items: center;
    justify-content: center;
}
.dark .stat-card {
    background-color: #1f2937; /* dark:bg-gray-800 */
    border-color: #374151; /* dark:border-gray-700 */
}
/* --- END STAT CARD STYLES --- */

/* --- ENGAGEMENT LIST STYLES --- */
.engagement-list-container {
    height: 300px; /* Adjust as needed */
    overflow-y: auto;
    padding-right: 8px; /* For scrollbar spacing */
}
.engagement-item {
    display: flex;
    align-items: center;
    padding: 0.75rem 0;
    border-bottom: 1px solid #e5e7eb; /* gray-200 */
}
.dark .engagement-item {
    border-color: #374151; /* dark:gray-700 */
}
.engagement-item:last-child {
    border-bottom: none;
}
.engagement-icon {
    width: 40px;
    height: 40px;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 0.75rem;
    flex-shrink: 0;
}
/* --- END ENGAGEMENT LIST STYLES --- */

/* --- COMMUNICATIONS LOG STYLES --- */
.log-list-container {
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 0.75rem; /* space-y-3 */
}
.comm-list-header {
    display: grid;
    grid-template-columns: 48px 2fr 1fr 1fr 1fr;
    gap: 1rem;
    padding: 0.5rem 1rem;
    font-size: 0.75rem;
    font-weight: 600;
    color: #9ca3af; /* gray-400 */
    text-transform: uppercase;
    letter-spacing: 0.05em;
    align-items: center;
}
.log-item {
    display: grid;
    grid-template-columns: 48px 2fr 1fr 1fr 1fr;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    border-radius: 0.5rem;
    transition: background-color 0.2s ease-in-out;
    cursor: pointer;
    background-color: #374151; /* dark:bg-gray-700 */
    border: 1px solid #4b5563; /* dark:border-gray-600 */
}
.log-item:hover {
    background-color: #4b5563; /* dark:hover:bg-gray-600 */
}
.log-icon {
    width: 32px;
    height: 32px;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    margin: 0 auto;
}
.log-content {
    flex-grow: 0; /* No longer needed for grid */
}
.log-date {
    text-align: right;
}
.document-item {
    cursor: default;
}
.document-item:hover {
    background-color: #374151; /* dark:bg-gray-700 */
}
/* --- END COMMUNICATIONS LOG STYLES --- */

/* --- ADVOCACY HUB STYLES --- */
.advocacy-nav-button {
    width: 100%;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    margin-bottom: 0.25rem;
    border-radius: 0.375rem;
    text-align: left;
    transition: background-color 0.2s, color 0.2s;
    font-size: 0.875rem;
    font-weight: 600;
}
.advocacy-nav-button.active {
    background-color: hsl(var(--color-primary));
    color: hsl(var(--color-primary-foreground));
}
.advocacy-nav-button:not(.active) {
    color: #d1d5db; /* dark:text-gray-300 */
}
.advocacy-nav-button:not(.active):hover {
    background-color: #374151; /* dark:bg-gray-700 */
}
.advocacy-card {
    background-color: #1f2937; /* dark:bg-gray-800 */
    padding: 1.5rem;
    border-radius: 0.5rem;
    border: 1px solid #374151; /* dark:border-gray-700 */
}
.advocacy-sub-card {
    background-color: hsl(220, 13%, 25%); /* A slightly lighter gray */
    border: 1px solid #4b5563; /* dark:border-gray-600 */
    border-radius: 0.5rem;
    padding: 1rem;
    transition: all 0.2s ease-in-out;
}
.advocacy-sub-card:hover {
    border-color: hsl(var(--color-primary));
    box-shadow: 0 0 10px hsl(var(--color-primary) / 0.2);
}
/* --- END ADVOCACY HUB STYLES --- */

/* --- GIVING FORECASTER STYLES --- */
.forecaster-card {
    background-color: #1f2937; /* dark:bg-gray-800 */
    padding: 1.5rem;
    border-radius: 0.5rem;
    border: 1px solid #374151; /* dark:border-gray-700 */
}
.forecaster-sub-card {
     background-color: #374151; /* dark:bg-gray-700 */
     padding: 1rem;
     border-radius: 0.5rem;
}
.forecaster-toggle-button {
    display: flex;
    align-items: center;
    background-color: #374151; /* dark:bg-gray-700 */
    border-radius: 9999px;
    padding: 0.25rem;
}
.forecaster-toggle-button button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    padding: 0.375rem 1rem;
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 500;
    transition: all 0.2s ease-in-out;
}
.forecaster-toggle-button button.active {
    background-color: #111827; /* dark:bg-gray-900 */
    color: hsl(var(--color-primary));
    box-shadow: 0 1px 3px 0 rgba(0,0,0,0.1);
}
.forecaster-toggle-button button:not(.active) {
    color: #9ca3af; /* dark:text-gray-400 */
}
.forecaster-toggle-button button:not(.active):hover {
    background-color: #4b5563; /* dark:bg-gray-600 */
}
/* --- END GIVING FORECASTER STYLES --- */

/* --- DRIVE HUB STYLES --- */
.dark .gauge-bg {
    stroke: #374151; /* dark:gray-700 */
}


/* Dynamic styles for theme colors */
.text-primary { color: hsl(var(--color-primary)); }
.bg-primary { background-color: hsl(var(--color-primary)); }
.bg-primary-hover:hover { background-color: hsl(var(--color-primary-hover)); }
.text-primary-foreground { color: hsl(var(--color-primary-foreground)); }
.border-primary { border-color: hsl(var(--color-primary)); }
.ring-primary { ring-color: hsl(var(--color-primary)); }

/* --- MENU ITEM STYLES (FIX) --- */
.menu-item {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    border-radius: 8px;
    font-weight: 500;
    color: #4b5563; /* text-gray-600 */
    transition: all 0.2s ease-in-out;
    overflow: hidden;
}
.dark .menu-item {
    color: #d1d5db; /* dark:text-gray-300 */
}
.menu-item:hover {
    background-color: #f3f4f6; /* hover:bg-gray-100 */
}
.dark .menu-item:hover {
    background-color: #374151; /* dark:hover:bg-gray-700 */
}
.menu-item.active {
    background-color: hsl(var(--color-primary));
    color: hsl(var(--color-primary-foreground));
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
}
.dark .menu-item.active {
    color: hsl(var(--color-primary-foreground));
}
.menu-item svg {
    margin-right: 12px;
    transition: margin 0.3s ease-in-out;
    flex-shrink: 0; /* Prevent icon from shrinking */
}
.sidebar-collapsed .menu-item {
    /* FIX: Removed justify-content: center to prevent the icon from moving */
    padding-left: 32px; /* Adjust padding to visually center the icon in the collapsed state */
    padding-right: 32px;
}
.sidebar-collapsed .menu-item svg {
    margin-right: 0;
}
.sidebar-collapsed .menu-text, .sidebar-collapsed #app-name {
    opacity: 0;
    width: 0;
    pointer-events: none;
}
.sidebar-collapsed .flex.items-center.justify-between > .flex.items-center {
    flex-grow: 1;
    justify-content: center;
}
.menu-text {
    white-space: normal;
    word-break: break-word;
    transition: opacity 0.2s ease-in-out, width 0.2s ease-in-out;
}
.theme-dot {
    width: 100%;
    height: 2rem;
    border-radius: 0.5rem;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all 0.2s;
}
.theme-dot.active {
    border-color: hsl(var(--color-primary));
    box-shadow: 0 0 0 2px hsl(var(--color-primary) / 0.5);
}
.theme-blue { background-color: #3b82f6; }
.theme-green { background-color: #22c55e; }
.theme-purple { background-color: #8b5cf6; }
.theme-orange { background-color: #f97316; }

