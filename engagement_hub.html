<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engagement Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        /* Custom styles for the page */
        body {
            font-family: 'Inter', sans-serif;
        }

        .stat-card {
            background-color: #1f2937; /* bg-gray-800 */
            border: 1px solid #374151; /* border-gray-700 */
            border-radius: 0.5rem;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }

        .engagement-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #374151; /* border-gray-700 */
            transition: background-color 0.2s;
            cursor: pointer;
        }
        .engagement-item:last-child {
            border-bottom: none;
        }

        .engagement-item:hover {
            background-color: #374151; /* bg-gray-700 */
        }
        
        .engagement-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            flex-shrink: 0;
        }

        /* Styles for independent scrolling containers */
        .engagement-list-container {
            height: 350px; /* Set a fixed height */
            overflow-y: auto; /* Enable vertical scrolling */
            padding-right: 8px; /* Add some space for the scrollbar */
        }

        /* Custom scrollbar styling for a better look in dark mode */
        .engagement-list-container::-webkit-scrollbar {
            width: 8px;
        }

        .engagement-list-container::-webkit-scrollbar-track {
            background: #1f2937; /* bg-gray-800 */
        }

        .engagement-list-container::-webkit-scrollbar-thumb {
            background-color: #4b5563; /* bg-gray-600 */
            border-radius: 4px;
            border: 2px solid #1f2937; /* bg-gray-800 */
        }

        .engagement-list-container::-webkit-scrollbar-thumb:hover {
            background-color: #6b7280; /* bg-gray-500 */
        }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 p-6">
    <div id="main-hub-view">
        <div class="space-y-6">
            <!-- Stat Cards -->
            <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                <div class="stat-card">
                    <div class="flex-1 text-center">
                        <p class="text-3xl font-bold" id="total-events">0</p>
                        <p class="text-sm text-gray-400">Total Events</p>
                    </div>
                    <i class="fa-solid fa-calendar-alt text-3xl text-blue-500 ml-4"></i>
                </div>
                <div class="stat-card">
                    <div class="flex-1 text-center">
                        <p class="text-3xl font-bold" id="total-attendees">0</p>
                        <p class="text-sm text-gray-400">Event Attendees</p>
                    </div>
                    <i class="fa-solid fa-ticket text-3xl text-purple-500 ml-4"></i>
                </div>
                <div class="stat-card">
                    <div class="flex-1 text-center">
                        <p class="text-3xl font-bold" id="total-volunteers">0</p>
                        <p class="text-sm text-gray-400">Volunteers</p>
                    </div>
                    <i class="fa-solid fa-hands-helping text-3xl text-green-500 ml-4"></i>
                </div>
                <div class="stat-card">
                    <div class="flex-1 text-center">
                        <p class="text-3xl font-bold" id="total-hours">0</p>
                        <p class="text-sm text-gray-400">Volunteer Hours</p>
                    </div>
                    <i class="fa-solid fa-clock text-3xl text-orange-500 ml-4"></i>
                </div>
                <div class="stat-card">
                    <div class="flex-1 text-center">
                        <p class="text-3xl font-bold" id="value-of-hours">$0</p>
                        <p class="text-sm text-gray-400">Value of Volunteering</p>
                    </div>
                    <i class="fa-solid fa-dollar-sign text-3xl text-teal-400 ml-4"></i>
                </div>
            </div>

            <!-- Search Bar -->
            <div class="relative">
                <input type="text" id="engagement-search" placeholder="Search events and opportunities by name..." class="w-full bg-gray-800 border border-gray-700 rounded-lg py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
                <i class="fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Upcoming Events -->
                <div class="bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-700 flex flex-col">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold">Upcoming Events</h3>
                        <button id="add-event-btn" class="flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all duration-300 text-sm font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                            <i class="fa-solid fa-plus mr-2"></i>Add Event
                        </button>
                    </div>
                    <div id="events-list-container" class="engagement-list-container">
                        <!-- Dynamic content will be injected here -->
                    </div>
                </div>
                <!-- Volunteer Opportunities -->
                <div class="bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-700 flex flex-col">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold">Volunteer Opportunities</h3>
                        <button id="add-opportunity-btn" class="flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all duration-300 text-sm font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                            <i class="fa-solid fa-plus mr-2"></i>Add Opportunity
                        </button>
                    </div>
                    <div id="opportunities-list-container" class="engagement-list-container">
                    <!-- Dynamic content will be injected here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Detail View -->
    <div id="detail-view" class="hidden">
        <button id="back-to-hub-btn" class="mb-6 flex items-center text-blue-400 hover:text-blue-300 font-semibold">
            <i class="fa-solid fa-arrow-left mr-2"></i>
            Back to Engagement Hub
        </button>
        <div class="bg-gray-800 border border-gray-700 rounded-lg p-8">
            <div class="flex flex-col md:flex-row gap-8">
                <!-- Left Side: Info -->
                <div class="w-full md:w-1/3">
                    <h2 id="detail-title" class="text-3xl font-bold mb-2"></h2>
                    <p id="detail-subtitle" class="text-lg text-gray-400 mb-4"></p>
                    <div class="space-y-4">
                        <div class="flex items-center text-gray-300">
                            <i class="fa-solid fa-calendar-day w-6 text-center mr-3 text-xl text-blue-400"></i>
                            <span id="detail-datetime"></span>
                        </div>
                        <div id="detail-hours-container" class="flex items-center text-gray-300">
                            <i class="fa-solid fa-clock w-6 text-center mr-3 text-xl text-orange-400"></i>
                            <span id="detail-hours"></span>
                        </div>
                    </div>
                    <div class="mt-6 bg-gray-900/50 border border-gray-700 rounded-lg p-4">
                        <p class="text-sm text-gray-400 mb-1" id="detail-stat-label"></p>
                        <p class="text-4xl font-bold" id="detail-stat-value"></p>
                        <div class="w-full bg-gray-700 rounded-full h-2.5 mt-2">
                            <div id="detail-progress-bar" class="bg-blue-600 h-2.5 rounded-full" style="width: 45%"></div>
                        </div>
                    </div>
                     <button id="add-person-from-detail-btn" class="mt-6 w-full flex items-center justify-center bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-all duration-300 font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                        <i class="fa-solid fa-plus mr-2"></i><span id="add-person-from-detail-btn-text">Add</span>
                    </button>
                </div>
                <!-- Right Side: List -->
                <div class="w-full md:w-2/3">
                    <h3 class="text-lg font-semibold mb-3" id="detail-list-label"></h3>
                    <div id="detail-list" class="bg-gray-900/50 border border-gray-700 rounded-lg h-96 overflow-y-auto">
                        <!-- Dynamic list will be injected here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Event Modal -->
    <div id="add-event-modal" class="modal-overlay hidden">
        <div class="bg-gray-800 border border-gray-700 rounded-lg p-8 w-full max-w-md m-4 shadow-xl">
            <h2 class="text-2xl font-bold mb-6">Add New Event</h2>
            <form id="add-event-form" class="space-y-4">
                <div>
                    <label for="event-name" class="block mb-2 text-sm font-medium text-gray-300">Event Name</label>
                    <input type="text" id="event-name" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label for="event-date" class="block mb-2 text-sm font-medium text-gray-300">Event Date & Time</label>
                    <input type="datetime-local" id="event-date" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5" required style="color-scheme: dark;">
                </div>
                <div>
                    <label for="event-capacity" class="block mb-2 text-sm font-medium text-gray-300">Capacity</label>
                    <input type="number" id="event-capacity" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5" min="1" required>
                </div>
                <div class="flex justify-end pt-4 space-x-3">
                    <button type="button" id="cancel-event-modal" class="px-6 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg font-semibold">Cancel</button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold">Add Event</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Opportunity Modal -->
    <div id="add-opportunity-modal" class="modal-overlay hidden">
        <div class="bg-gray-800 border border-gray-700 rounded-lg p-8 w-full max-w-md m-4 shadow-xl">
            <h2 class="text-2xl font-bold mb-6">Add New Opportunity</h2>
            <form id="add-opportunity-form" class="space-y-4">
                <div>
                    <label for="opp-name" class="block mb-2 text-sm font-medium text-gray-300">Opportunity Name</label>
                    <input type="text" id="opp-name" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                 <div>
                    <label for="opp-agency" class="block mb-2 text-sm font-medium text-gray-300">Agency / Partner</label>
                    <input type="text" id="opp-agency" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label for="opp-date" class="block mb-2 text-sm font-medium text-gray-300">Date</label>
                    <input type="datetime-local" id="opp-date" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5" required style="color-scheme: dark;">
                </div>
                 <div>
                    <label for="opp-hours" class="block mb-2 text-sm font-medium text-gray-300">Volunteer Hours</label>
                    <input type="number" id="opp-hours" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5" min="1" required>
                </div>
                <div>
                    <label for="opp-capacity" class="block mb-2 text-sm font-medium text-gray-300">Capacity</label>
                    <input type="number" id="opp-capacity" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5" min="1" required>
                </div>
                <div class="flex justify-end pt-4 space-x-3">
                    <button type="button" id="cancel-opportunity-modal" class="px-6 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg font-semibold">Cancel</button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold">Add Opportunity</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Attendee Modal -->
    <div id="add-attendee-modal" class="modal-overlay hidden">
        <div class="bg-gray-800 border border-gray-700 rounded-lg p-8 w-full max-w-md m-4 shadow-xl">
            <h2 class="text-2xl font-bold mb-4">Add Attendee</h2>
            <p class="text-gray-400 mb-6">For: <span id="attendee-modal-event-name" class="font-semibold"></span></p>
            <form id="add-attendee-form" class="space-y-4">
                <input type="hidden" id="attendee-event-name-hidden">
                <div>
                    <label for="attendee-name" class="block mb-2 text-sm font-medium text-gray-300">Full Name</label>
                    <input type="text" id="attendee-name" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label for="attendee-email" class="block mb-2 text-sm font-medium text-gray-300">Email Address</label>
                    <input type="email" id="attendee-email" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5" required>
                </div>
                <div class="flex justify-end pt-4 space-x-3">
                    <button type="button" id="cancel-attendee-modal" class="px-6 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg font-semibold">Cancel</button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold">Confirm Attendee</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Volunteer Modal -->
    <div id="add-volunteer-modal" class="modal-overlay hidden">
        <div class="bg-gray-800 border border-gray-700 rounded-lg p-8 w-full max-w-md m-4 shadow-xl">
            <h2 class="text-2xl font-bold mb-4">Add Volunteer</h2>
            <p class="text-gray-400 mb-6">For: <span id="volunteer-modal-opp-name" class="font-semibold"></span></p>
            <form id="add-volunteer-form" class="space-y-4">
                <input type="hidden" id="volunteer-opp-name-hidden">
                <div>
                    <label for="volunteer-name" class="block mb-2 text-sm font-medium text-gray-300">Full Name</label>
                    <input type="text" id="volunteer-name" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label for="volunteer-email" class="block mb-2 text-sm font-medium text-gray-300">Email Address</label>
                    <input type="email" id="volunteer-email" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5" required>
                </div>
                <div class="flex justify-end pt-4 space-x-3">
                    <button type="button" id="cancel-volunteer-modal" class="px-6 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg font-semibold">Cancel</button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold">Confirm Volunteer</button>
                </div>
            </form>
        </div>
    </div>

    <script src="engagement_hub.js"></script>
</body>
</html>

